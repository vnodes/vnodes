generator client {
  provider               = "prisma-client"
  output                 = "../src"
  runtime                = "nodejs"
  importFileExtension    = "js"
  generatedFileExtension = "ts"
  moduleFormat           = "esm"
}

datasource db {
  provider = "postgresql"
}

enum Gender {
  Male
  Female
}

model Occupation {
  id        Int       @id @default(autoincrement())
  uuid      String    @unique @default(uuid(7))
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  name String @unique

  users User[]
}

model Department {
  id        Int       @id @default(autoincrement())
  uuid      String    @unique @default(uuid(7))
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  name String @unique
}

model User {
  id        Int       @id @default(autoincrement())
  uuid      String    @unique @default(uuid(7))
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  firstName  String
  lastName   String
  middleName String

  gender Gender
  dob    DateTime

  occupation   Occupation @relation(fields: [occupationId], references: [id], onDelete: Restrict)
  occupationId Int
}
